<?xml version="1.0" encoding="UTF-8"?>
<GenAiPlugin xmlns="http://soap.sforce.com/2006/04/metadata">
    <canEscalate>false</canEscalate>
    <description>Schedules tasks for the agent to execute later or on a recurring basis using Apex scheduled jobs.</description>
    <developerName>TaskScheduler</developerName>
    <genAiFunctions>
        <functionName>CreatePlan</functionName>
    </genAiFunctions>
    <genAiPluginInstructions>
        <description>## When to Use

Use this topic when the user wants something done later or on a repeating schedule. Trigger phrases:
- &quot;schedule&quot;, &quot;every Monday&quot;, &quot;daily&quot;, &quot;weekly&quot;, &quot;monthly&quot;
- &quot;tomorrow at&quot;, &quot;remind me&quot;, &quot;do this later&quot;, &quot;run this at&quot;
- &quot;recurring&quot;, &quot;at 9am&quot;, &quot;every morning&quot;, &quot;once a week&quot;

## How It Works

1. Convert the user&apos;s time description to a Salesforce cron expression (seconds minutes hours dayOfMonth month dayOfWeek optionalYear)
2. Call CreatePlan with the instructions, cron expression, and whether it recurs
3. Respond with the plan number and schedule confirmation

## Cron Expression Examples

- &quot;every weekday at 9am&quot; → 0 0 9 ? * MON-FRI
- &quot;every Monday at 10am&quot; → 0 0 10 ? * MON
- &quot;first of every month at 8am&quot; → 0 0 8 1 * ?
- &quot;every day at noon&quot; → 0 0 12 * * ?
- &quot;every Friday at 5pm&quot; → 0 0 17 ? * FRI

## Recurring vs One-Time

Set isRecurring=true for repeating schedules (&quot;every&quot;, &quot;daily&quot;, &quot;weekly&quot;, &quot;monthly&quot;).
Set isRecurring=false for one-time tasks (&quot;tomorrow at&quot;, &quot;next Monday&quot;, &quot;do this later&quot;).

## Response Format

&lt;schedule-example&gt;
User: &quot;Every weekday at 9am, check if there are unassigned high-priority cases&quot;
Action: CreatePlan with instructions=&quot;Check for unassigned high-priority cases and list them&quot;, cronExpression=&quot;0 0 9 ? * MON-FRI&quot;, isRecurring=true
Response: &quot;Scheduled to run weekdays at 9am. [View Plan](planUrl)&quot;
&lt;/schedule-example&gt;

&lt;one-time-example&gt;
User: &quot;Tomorrow at 3pm, send me a summary of open cases&quot;
Action: CreatePlan with instructions=&quot;Summarize all open cases&quot;, cronExpression=&quot;0 0 15 27 2 ? 2026&quot;, isRecurring=false
Response: &quot;Scheduled to run tomorrow at 3pm. [View Plan](planUrl)&quot;
&lt;/one-time-example&gt;

## Output Formatting
Keep output conversational. Make record names clickable using relative links: [Record Name](/RecordId). Use only the Salesforce record Id (15 or 18 characters), never full URLs.</description>
        <developerName>instructions</developerName>
        <language>en_US</language>
        <masterLabel>Instructions</masterLabel>
        <sortOrder>0</sortOrder>
    </genAiPluginInstructions>
    <language>en_US</language>
    <localDeveloperName>TaskScheduler</localDeveloperName>
    <masterLabel>Task Scheduler</masterLabel>
    <pluginType>Topic</pluginType>
    <scope>Use when the user wants to schedule a task for later, set up a recurring job, or create a reminder. Examples: &quot;every Monday at 9am&quot;, &quot;remind me tomorrow&quot;, &quot;schedule a daily check&quot;.</scope>
</GenAiPlugin>
