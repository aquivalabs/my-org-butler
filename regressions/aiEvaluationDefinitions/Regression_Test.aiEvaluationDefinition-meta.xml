<?xml version="1.0" encoding="UTF-8"?>
<AiEvaluationDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <name>Regression_Test</name>
    <subjectName>MyOrgButler</subjectName>
    <subjectType>AGENT</subjectType>
    <subjectVersion>v1</subjectVersion>
    <description>Independent tests for all key capabilities: SOQL queries, record creation, schema exploration, web search, and GitHub integration</description>
    <testCase>
        <number>1</number>
        <inputs>
            <utterance>Show me all open opportunities sorted by close date</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['QueryRecordsWithSoql']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Shows a list of opportunities with their names, amounts, and close dates</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>2</number>
        <inputs>
            <utterance>Create a task called Demo Follow-up for the Acme Corporation account</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['CallRestApi']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Confirms that a task has been created with a link to view it</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>3</number>
        <inputs>
            <utterance>What custom objects are in this org?</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['ExploreOrgSchema']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Lists custom objects including Memory__c</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>4</number>
        <inputs>
            <utterance>Create an ER diagram showing the custom objects and their relationships</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['ExploreOrgSchema', 'CreatePlantUmlUrl']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Provides a PlantUML diagram link showing object relationships</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>5</number>
        <inputs>
            <utterance>Search the web for Aquiva Labs</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['SearchWeb']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Provides information about Aquiva Labs as a Salesforce company</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>6</number>
        <inputs>
            <utterance>List the open issues in the aquivalabs/my-org-butler GitHub repository</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['CallGitHubApi']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Shows a list of open GitHub issues from the repository</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>7</number>
        <inputs>
            <utterance>How many Apex classes are in this org? Use the Tooling API to find out.</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['CallToolingApi']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Returns the count or list of Apex classes in the org</expectedValue>
        </expectation>
    </testCase>
    <testCase>
        <number>8</number>
        <inputs>
            <utterance>List all the custom fields on the Opportunity object using the Metadata API</utterance>
        </inputs>
        <expectation>
            <name>topic_assertion</name>
            <expectedValue>MyOrgButler</expectedValue>
        </expectation>
        <expectation>
            <name>actions_assertion</name>
            <expectedValue>['CallMetadataApi']</expectedValue>
        </expectation>
        <expectation>
            <name>bot_response_rating</name>
            <expectedValue>Lists custom fields on Opportunity object</expectedValue>
        </expectation>
    </testCase>
</AiEvaluationDefinition>
